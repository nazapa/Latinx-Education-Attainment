---
title: "Latinx Education Attainment and Enrollment Levels (2012-2020) Using the American Community Survey (ACS) Census Data"
author: "Paula Nazario, MPP Student at the UCLA Luskin School of Public Affairs"
date: "June 2, 2022"
output: 
  bookdown::html_document2:
    number_sections: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, out.width= "100%")
## libraries
library(tidyverse)
library(ggplot2) 
library(scales)
library(haven)

## datasets
data_dir <- "datasets"
load(file = file.path(data_dir, 'datasets.RData'))

theme_set(
  theme(
    text = element_text(size = 7),
    panel.background = element_blank(),
    plot.title = element_text(color = '#444444', size = 7, face = 'bold', hjust = 0.5),
    axis.ticks = element_blank(),
    axis.title = element_text(face = 'bold'),
    legend.title = element_text(face = 'bold'),
    legend.key.size = unit(0.3, 'cm'),
    strip.text.x = element_text(size = 7, face = 'bold', hjust = 0.5),
    strip.background = element_rect(fill = NA, color = NA)
  )
)
```

### Research Questions
1. How has the educational attainment levels for Latinx students changed in the past 8 years (e.g., 2012-2020) in areas that are highly populated by Latinx communities?
    a. How has the educational attainment for Latinx students changed in the past 8 years (e.g., 2012-2020) at the state level?
    b. How has the educational attainment for Latinx students changed in the past 8 years (e.g., 2012-2020) at the metropolitan level?
    c. How has the educational attainment for Latinx students changed in the past 8 years (e.g., 2012-2020) at the county level?

2. How has the educational enrollment levels for Latinx students changed in the past 8 years (e.g., 2012-2020) in areas that are highly populated by Latinx communities?
    a. How has the educational enrollment for Latinx students changed in the past 8 years (e.g., 2012-2020) at the state level?
    b. How has the educational enrollment for Latinx students changed in the past 8 years (e.g., 2012-2020) at the metropolitan level?
    c. How has the educational enrollment for Latinx students changed in the past 8 years (e.g., 2012-2020) at the county level?

### Latinx Student Educational Outcomes
[BACKGROUND HERE; NEED ASSISTANCE INCLUDING CITATIONS HERE]


### LATINX EDUCATION ATTAINMENT BY GENDER (2012-2020)

### ACS1 - Latinx Education Attainment Levels in California, Texas, Florida, and New York States (2012-2020)
I used the ACS 1-year and ACS 5-year level data to determine the educational attainment levels of Latinx students between 2012 and 2020 in the following states: California, Texas, Florida, and New York. All of these states have seen an increase in the Latinx population since 2010. Therefore, I want to generate line graphs of the educational attainment levels of Latinxs in each state individually and then compare them against each other to analyze any patterns in the educational levels of each state. 

```{r temp-edu-attain1, fig.cap= "ACS 1-Year Level Data: Latinx Education Attainment Levels in California, Texas, Florida, and New York States (2012-2020)"}
## acs1 - education attainment, state level
temp_edu_attain3 <- acs1_state_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002I_\\d+E")) %>% 
  mutate(C15002I_012E = C15002I_003E + C15002I_008E,
         C15002I_013E = C15002I_004E + C15002I_009E,
         C15002I_014E = C15002I_005E + C15002I_010E,
         C15002I_015E = C15002I_006E + C15002I_011E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'attainment',         
    values_to = 'values') %>%
  mutate(gender = case_when(attainment %in%
                              c("C15002I_002E", "C15002I_003E", "C15002I_004E", "C15002I_005E", "C15002I_006E") ~ "male",
                            attainment %in%
                              c("C15002I_007E", "C15002I_008E", "C15002I_009E", "C15002I_010E", "C15002I_011E") ~ "female",
                            TRUE ~ "total"
  ),
  education_level = case_when(attainment %in%
                                c("C15002I_003E", "C15002I_008E", "C15002I_012E") ~ "less than a high school diploma",
                              attainment %in%
                                c("C15002I_004E", "C15002I_009E", "C15002I_013E") ~ "high school graduate",
                              attainment %in%
                                c("C15002I_005E", "C15002I_010E", "C15002I_014E") ~ "some college or associate’s degree",
                              attainment %in%
                                c("C15002I_006E", "C15002I_011E", "C15002I_015E") ~ "bachelor’s degree or higher",
                              TRUE ~ "total")
  ) %>% 
  filter(education_level != "total", gender != "total") %>%
  group_by(GEOID, NAME, YEAR, gender) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_attain3 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain1), we can see the Latinx Education Attainment Levels for California, Florida, New York, and Texas between 2012-2020. In these graphs we can see that among the four states, there is a higher percentage of Latinx students obtaining bachelor’s degrees or higher in Florida, followed by New York, Texas and California and in all states more Latina women are obtaining these degrees. Among the four states, California has the most Latinx students obtaining less than high school diplomas, with a higher percentage of Latino males obtaining these diplomas.


### ACS1 - Latinx Education Attainment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
I used the ACS 1-year level data to determine the educational attainment levels of Latinx between 2012 and 2020 in the metropolitan areas with the highest Latinx populations, which include: Los Angeles-Long Beach, CA; New York-Northeastern, NJ; Miami-Hialeah, FL; Washington, DC/MD/VA; and Providence-Fall River~Pawtucket, MA/RI 
```{r temp-edu-attain2, fig.cap= "ACS 1-Year Level Data: Latinx Education Attainment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area (2012-2020)"}
## acs1 - education attainment, metro level 
temp_edu_attain2 <- acs1_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002I_\\d+E")) %>% 
  mutate(C15002I_012E = C15002I_003E + C15002I_008E,
         C15002I_013E = C15002I_004E + C15002I_009E,
         C15002I_014E = C15002I_005E + C15002I_010E,
         C15002I_015E = C15002I_006E + C15002I_011E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'attainment',         
    values_to = 'values') %>%
  mutate(gender = case_when(attainment %in%
                              c("C15002I_002E", "C15002I_003E", "C15002I_004E", "C15002I_005E", "C15002I_006E") ~ "male",
                            attainment %in%
                              c("C15002I_007E", "C15002I_008E", "C15002I_009E", "C15002I_010E", "C15002I_011E") ~ "female",
                            TRUE ~ "total"
  ),
  education_level = case_when(attainment %in%
                                c("C15002I_003E", "C15002I_008E", "C15002I_012E") ~ "less than a high school diploma",
                              attainment %in%
                                c("C15002I_004E", "C15002I_009E", "C15002I_013E") ~ "high school graduate",
                              attainment %in%
                                c("C15002I_005E", "C15002I_010E", "C15002I_014E") ~ "some college or associate’s degree",
                              attainment %in%
                                c("C15002I_006E", "C15002I_011E", "C15002I_015E") ~ "bachelor’s degree or higher",
                              TRUE ~ "total")
  ) %>% 
  filter(education_level != "total", gender != "total") %>%
  group_by(GEOID, NAME, YEAR, gender) %>% 
  mutate(pct = values/sum(values))

# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area;
# Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; 
# Providence-Warwick, RI-MA Metro Area
temp_edu_attain2 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain2), we can see the Latinx educational attainment levels for students in the  Los Angeles-Long Beach-Anaheim, California Metro Area between 2012-2020. In this line graph, we can see that there is an upward trend in the percentage of Latinx students obtaining bachelor’s degrees or higher degrees. When comparing Latina female and Latino male students, we can see that more Latina female students are earning bachelor’s degrees or higher than Latino male students. On the other hand, it seems that more Latino male students are earning high school diplomas in comparison to Latina female students.

```{r temp-edu-attain3, fig.cap= "ACS 1-Year Level Data: Latinx Education Attainment Levels in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)"}
temp_edu_attain2 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain3), we can see the Latinx Education Attainment Levels in New York-Newark-Jersey City, NY-NJ-PA Metro Area between 2012-2020. We can see that there is a downward trend in the percentage of Latinx students who are obtaining less than a high school diploma. In terms of the attainment of bachelor’s degrees, there seems to be a drastic increase in these degrees after 2016 and from there it continues to increase. Also, Latina females obtained a higher percentage of bachelor degrees or higher in comparison to Latino males. 

```{r temp-edu-attain4, fig.cap= "ACS 1-Year Level Data: Latinx Education Attainment Levels in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)"}
temp_edu_attain2 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain4), we can see the Latinx Education Attainment Levels in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area between 2012-2020. In this graph, we can see that there is an upward trend in the amount of Latinx students who obtain bachelor’s degrees or higher and downward trend in the number of Latinx students who obtained less than a high school diploma. Again, it seems that Latina female students are earning more degrees than Latino male students.


```{r temp-edu-attain5, fig.cap= "ACS 1-Year Level Data: Latinx Education Attainment Levels in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)"}
temp_edu_attain2 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain5), we can see the Latinx education attainment levels in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area between 2012-2020. In this line graph, we can see that a higher percentage of Latinx students are obtaining less than a high school diploma, followed by bachelor’s degrees or higher, high school diploma, and some college or associate’s degree. 


```{r temp-edu-attain6, fig.cap= "ACS 1-Year Level Data: Latinx Education Attainment Levels in Providence-Warwick, RI-MA Metro Area (2012-2020)"}
temp_edu_attain2 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain6), we can see the Latinx Education Attainment Levels in Providence-Warwick, RI-MA Metro Area between 2012-2020. In this line graph we can see that among all of the education levels, there was a spike in the percentage of Latinx high school graduates between 2016 and 2018. Also, there were more Latino males who graduated high school and earned a high school diploma than Latina women. After 2018, there was a decrease in the percentage of Latinx students who earned a high school diploma.


### ACS1 - Latinx Education Attainment Levels in Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r temp-edu-attain7, fig.cap= "ACS 1-Year Level Data: Latinx Education Attainment Levels in Bexar County, Texas; Cook County, Illinois; Los Angeles County, California; Maricopa County, Arizona; Orange County, California; Riverside County, California; San Bernardino County, California; San Diego County, California (2012-2020)"}
## ACS1 - Education Attainment Level, Counties 
temp_edu_attain1 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002I_\\d+E")) %>% 
  mutate(C15002I_012E = C15002I_003E + C15002I_008E,
         C15002I_013E = C15002I_004E + C15002I_009E,
         C15002I_014E = C15002I_005E + C15002I_010E,
         C15002I_015E = C15002I_006E + C15002I_011E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'attainment',         
    values_to = 'values') %>%
  mutate(gender = case_when(attainment %in%
                              c("C15002I_002E", "C15002I_003E", "C15002I_004E", "C15002I_005E", "C15002I_006E") ~ "latino male",
                            attainment %in%
                              c("C15002I_007E", "C15002I_008E", "C15002I_009E", "C15002I_010E", "C15002I_011E") ~ "latina female",
                            TRUE ~ "total"
  ),
  education_level = case_when(attainment %in%
                                c("C15002I_003E", "C15002I_008E", "C15002I_012E") ~ "less than a high school diploma",
                              attainment %in%
                                c("C15002I_004E", "C15002I_009E", "C15002I_013E") ~ "high school graduate",
                              attainment %in%
                                c("C15002I_005E", "C15002I_010E", "C15002I_014E") ~ "some college or associate’s degree",
                              attainment %in%
                                c("C15002I_006E", "C15002I_011E", "C15002I_015E") ~ "bachelor’s degree or higher",
                              TRUE ~ "total")
  ) %>% 
  filter(education_level != "total", gender != "total") %>%
  group_by(GEOID, NAME, YEAR, gender) %>% 
  mutate(pct = values/sum(values))

# graph, counties: Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, San Diego County, CA
temp_edu_attain1 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas",
                                        "Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain7), I created line graphs for the educational attainment levels of Latinx in the counties that are most populated by Latinx communities. As seen in Figure \@ref(fig:temp-edu-attain7), we can see that there is an overall trend in all the counties, in which the percent of bachelor’s degrees attained were low for Latina female and Latino male students in comparison to the attainment of a high school diploma, less than a high school diploma, and some college or associate's degree. 

### ACS1 - Latinx Education Attainment Levels in Los Angeles County (2012-2020)
```{r temp-edu-attain8, fig.cap= "ACS 1-Year Level Data: Latinx Education Attainment Levels in Los Angeles County, California (2012-2020)"}
## ACS1 - Education Attainment Level, County Level
temp_edu_attain1 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002I_\\d+E")) %>% 
  mutate(C15002I_012E = C15002I_003E + C15002I_008E,
         C15002I_013E = C15002I_004E + C15002I_009E,
         C15002I_014E = C15002I_005E + C15002I_010E,
         C15002I_015E = C15002I_006E + C15002I_011E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'attainment',         
    values_to = 'values') %>%
  mutate(gender = case_when(attainment %in%
                              c("C15002I_002E", "C15002I_003E", "C15002I_004E", "C15002I_005E", "C15002I_006E") ~ "latino male",
                            attainment %in%
                              c("C15002I_007E", "C15002I_008E", "C15002I_009E", "C15002I_010E", "C15002I_011E") ~ "latina female",
                            TRUE ~ "total"
  ),
  education_level = case_when(attainment %in%
                                c("C15002I_003E", "C15002I_008E", "C15002I_012E") ~ "less than a high school diploma",
                              attainment %in%
                                c("C15002I_004E", "C15002I_009E", "C15002I_013E") ~ "high school graduate",
                              attainment %in%
                                c("C15002I_005E", "C15002I_010E", "C15002I_014E") ~ "some college or associate’s degree",
                              attainment %in%
                                c("C15002I_006E", "C15002I_011E", "C15002I_015E") ~ "bachelor’s degree or higher",
                              TRUE ~ "total")
  ) %>% 
  filter(education_level != "total", gender != "total") %>%
  group_by(GEOID, NAME, YEAR, gender) %>% 
  mutate(pct = values/sum(values))

# Graph, Los Angeles County
temp_edu_attain1 %>% filter(NAME == "Los Angeles County, California") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() + 
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain8), we can see more closely the Latinx education attainment levels in the Los Angeles County, California. In this line graph, we can see that the educational attainment levels of Latinx remain low for the attainment of a bachelor’s degree or higher, followed by some college or associate’s degree, high school diploma, and less than a high school diploma. From this line graph, we can see that Latinx students in Los Angeles County, California between 2012-2020 have not earned many bachelor’s degrees or higher degrees and have earned less than a high school diploma. Still, it seems that between 2012-2020, there has been an upward trend in the number of Latinx students attaining bachelor’s degrees or higher degrees and the number of Latinx students attaining less than a high school diploma has been steadily decreasing. 

### ACS5 - Latinx Education Attainment Levels in California, Texas, Florida, and New York States (2012-2020)
```{r temp-edu-attain9, fig.cap= "ACS 5-Year Level Data: Latinx Education Attainment Levels in California, Texas, Florida and New York States (2012-2020)"}
## acs5 - education attainment, state level
temp_edu_attain6 <- acs5_state_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002I_\\d+E")) %>% 
  mutate(C15002I_012E = C15002I_003E + C15002I_008E,
         C15002I_013E = C15002I_004E + C15002I_009E,
         C15002I_014E = C15002I_005E + C15002I_010E,
         C15002I_015E = C15002I_006E + C15002I_011E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'attainment',         
    values_to = 'values') %>%
  mutate(gender = case_when(attainment %in%
                              c("C15002I_002E", "C15002I_003E", "C15002I_004E", "C15002I_005E", "C15002I_006E") ~ "male",
                            attainment %in%
                              c("C15002I_007E", "C15002I_008E", "C15002I_009E", "C15002I_010E", "C15002I_011E") ~ "female",
                            TRUE ~ "total"
  ),
  education_level = case_when(attainment %in%
                                c("C15002I_003E", "C15002I_008E", "C15002I_012E") ~ "less than a high school diploma",
                              attainment %in%
                                c("C15002I_004E", "C15002I_009E", "C15002I_013E") ~ "high school graduate",
                              attainment %in%
                                c("C15002I_005E", "C15002I_010E", "C15002I_014E") ~ "some college or associate’s degree",
                              attainment %in%
                                c("C15002I_006E", "C15002I_011E", "C15002I_015E") ~ "bachelor’s degree or higher",
                              TRUE ~ "total")
  ) %>% 
  filter(education_level != "total", gender != "total") %>%
  group_by(GEOID, NAME, YEAR, gender) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_attain6 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain9), we can see the Latinx Education Attainment Levels for California, Florida, New York, and Texas between 2012-2020 using the ACS 5-year level data. Again, the line graphs seem to reflect the same trends as the previous line graph in Figure \@ref(fig:temp-edu-attain8).

### ACS5 - Latinx Education Attainment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
```{r temp-edu-attain10, fig.cap= "ACS 5-Year Level Data: Latinx Education Attainment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area (2012-2020)"}
## acs5 - education attainment, metro level
temp_edu_attain5 <- acs5_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002I_\\d+E")) %>% 
  mutate(C15002I_012E = C15002I_003E + C15002I_008E,
         C15002I_013E = C15002I_004E + C15002I_009E,
         C15002I_014E = C15002I_005E + C15002I_010E,
         C15002I_015E = C15002I_006E + C15002I_011E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'attainment',         
    values_to = 'values') %>%
  mutate(gender = case_when(attainment %in%
                              c("C15002I_002E", "C15002I_003E", "C15002I_004E", "C15002I_005E", "C15002I_006E") ~ "male",
                            attainment %in%
                              c("C15002I_007E", "C15002I_008E", "C15002I_009E", "C15002I_010E", "C15002I_011E") ~ "female",
                            TRUE ~ "total"
  ),
  education_level = case_when(attainment %in%
                                c("C15002I_003E", "C15002I_008E", "C15002I_012E") ~ "less than a high school diploma",
                              attainment %in%
                                c("C15002I_004E", "C15002I_009E", "C15002I_013E") ~ "high school graduate",
                              attainment %in%
                                c("C15002I_005E", "C15002I_010E", "C15002I_014E") ~ "some college or associate’s degree",
                              attainment %in%
                                c("C15002I_006E", "C15002I_011E", "C15002I_015E") ~ "bachelor’s degree or higher",
                              TRUE ~ "total")
  ) %>% 
  filter(education_level != "total", gender != "total") %>%
  group_by(GEOID, NAME, YEAR, gender) %>% 
  mutate(pct = values/sum(values))

# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area;
# Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; 
# Providence-Warwick, RI-MA Metro Area
temp_edu_attain5 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain10),

```{r temp-edu-attain11, fig.cap= "ACS 5-Year Level Data: Latinx Education Attainment Levels in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)"}
temp_edu_attain5 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain11),

```{r temp-edu-attain12, fig.cap= "ACS 5-Year Level Data: Latinx Education Attainment Levels in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)"}
temp_edu_attain5 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain12),

```{r temp-edu-attain13, fig.cap= "ACS 5-Year Level Data: Latinx Education Attainment Levels in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)"}
temp_edu_attain5 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain13),

```{r temp-edu-attain14, fig.cap= "ACS 5-Year Level Data: Latinx Education Attainment Levels in Providence-Warwick, RI-MA Metro Area (2012-2020)"}
temp_edu_attain5 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain14),

### ACS5 - Latinx Education Attainment Levels in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r temp-edu-attain15, fig.cap= "ACS 5-Year Level Data: Latinx Education Attainment Levels in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)"}
## acs5 - education attainment, county level
temp_edu_attain4 <- acs5_county_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002I_\\d+E")) %>% 
  mutate(C15002I_012E = C15002I_003E + C15002I_008E,
         C15002I_013E = C15002I_004E + C15002I_009E,
         C15002I_014E = C15002I_005E + C15002I_010E,
         C15002I_015E = C15002I_006E + C15002I_011E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'attainment',         
    values_to = 'values') %>%
  mutate(gender = case_when(attainment %in%
                              c("C15002I_002E", "C15002I_003E", "C15002I_004E", "C15002I_005E", "C15002I_006E") ~ "latino male",
                            attainment %in%
                              c("C15002I_007E", "C15002I_008E", "C15002I_009E", "C15002I_010E", "C15002I_011E") ~ "latina female",
                            TRUE ~ "total"
  ),
  education_level = case_when(attainment %in%
                                c("C15002I_003E", "C15002I_008E", "C15002I_012E") ~ "less than a high school diploma",
                              attainment %in%
                                c("C15002I_004E", "C15002I_009E", "C15002I_013E") ~ "high school graduate",
                              attainment %in%
                                c("C15002I_005E", "C15002I_010E", "C15002I_014E") ~ "some college or associate’s degree",
                              attainment %in%
                                c("C15002I_006E", "C15002I_011E", "C15002I_015E") ~ "bachelor’s degree or higher",
                              TRUE ~ "total")
  ) %>% 
  filter(education_level != "total", gender != "total") %>%
  group_by(GEOID, NAME, YEAR, gender) %>% 
  mutate(pct = values/sum(values))
# graph, counties: Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, San Diego County, CA
temp_edu_attain4 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas",
                                        "Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain15),


### ACS5 - Latinx Education Attainment Levels in Los Angeles County, CA (2012-2020)
```{r temp-edu-attain16, fig.cap= "ACS 5-Year Level Data: Latinx Education Attainment Levels in Los Angeles County, California (2012-2020)"}
## acs5 - education attainment, county level
temp_edu_attain4 <- acs5_county_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002I_\\d+E")) %>% 
  mutate(C15002I_012E = C15002I_003E + C15002I_008E,
         C15002I_013E = C15002I_004E + C15002I_009E,
         C15002I_014E = C15002I_005E + C15002I_010E,
         C15002I_015E = C15002I_006E + C15002I_011E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'attainment',         
    values_to = 'values') %>%
  mutate(gender = case_when(attainment %in%
                              c("C15002I_002E", "C15002I_003E", "C15002I_004E", "C15002I_005E", "C15002I_006E") ~ "latino male",
                            attainment %in%
                              c("C15002I_007E", "C15002I_008E", "C15002I_009E", "C15002I_010E", "C15002I_011E") ~ "latina female",
                            TRUE ~ "total"
  ),
  education_level = case_when(attainment %in%
                                c("C15002I_003E", "C15002I_008E", "C15002I_012E") ~ "less than a high school diploma",
                              attainment %in%
                                c("C15002I_004E", "C15002I_009E", "C15002I_013E") ~ "high school graduate",
                              attainment %in%
                                c("C15002I_005E", "C15002I_010E", "C15002I_014E") ~ "some college or associate’s degree",
                              attainment %in%
                                c("C15002I_006E", "C15002I_011E", "C15002I_015E") ~ "bachelor’s degree or higher",
                              TRUE ~ "total")
  ) %>% 
  filter(education_level != "total", gender != "total") %>%
  group_by(GEOID, NAME, YEAR, gender) %>% 
  mutate(pct = values/sum(values))

# graph, los angeles county
temp_edu_attain4 %>% filter(NAME == "Los Angeles County, California") %>%
  ggplot(aes(x = YEAR, y = pct, color = education_level, linetype = gender)) + geom_line() + 
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain16),


### LATINX ENROLLNMENT IN NURSERY SCHOOL, K-12, COLLEGE/UNIVERSITIES, AND GRADUATE OR PROFESSIONAL SCHOOL (2012-2020)

### ACS1 - Latinx Education Enrollment Levels in California, Texas, Florida, and New York States (2012-2020)
```{r temp-edu-attain17, fig.cap= "ACS 1-Year Level Data: Latinx Education Enrollment Levels in California, Texas, Florida, and New York States (2012-2020)"}
## acs1 - education enrollment, state level
temp_edu_enr9 <- acs1_state_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007I_\\d+E")) %>% 
  mutate(B14007I_020E = B14007I_004E + B14007I_005E + B14007I_006E
         + B14007I_007E + B14007I_008E + B14007I_009E + B14007I_010E
         + B14007I_011E + B14007I_012E + B14007I_013E + B14007I_014E
         + B14007I_015E + B14007I_016E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'enrollment',         
    values_to = 'values') %>%
  filter(enrollment %in% c("B14007I_003E", "B14007I_020E", "B14007I_017E", "B14007I_018E")) %>%
  mutate(
    enrollment_level = case_when(enrollment == "B14007I_002E" ~ "enrolled in school",
                                 enrollment == "B14007I_003E" ~ "enrolled in nursery school",
                                 enrollment == "B14007I_017E" ~ "enrolled in college/universities",
                                 enrollment == "B14007I_018E" ~ "enrolled in graduate or professional school",
                                 enrollment == "B14007I_019E" ~ "not enrolled in school",
                                 enrollment == "B14007I_020E" ~ "enrolled in k-12", 
                                 TRUE ~ "total")) %>%
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_enr9 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr17),

### ACS1 - Latinx Education Enrollment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
```{r temp-edu-enr18, fig.cap= "ACS 1-Year Level Data: Latinx Education Enrollment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area (2012-2020)"}
## acs1 - education enrollment, metro level 
temp_edu_enr8 <- acs1_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007I_\\d+E")) %>% 
  mutate(B14007I_020E = B14007I_004E + B14007I_005E + B14007I_006E
         + B14007I_007E + B14007I_008E + B14007I_009E + B14007I_010E
         + B14007I_011E + B14007I_012E + B14007I_013E + B14007I_014E
         + B14007I_015E + B14007I_016E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'enrollment',         
    values_to = 'values') %>%
  filter(enrollment %in% c("B14007I_003E", "B14007I_020E", "B14007I_017E", "B14007I_018E")) %>%
  mutate(
    enrollment_level = case_when(enrollment == "B14007I_002E" ~ "enrolled in school",
                                 enrollment == "B14007I_003E" ~ "enrolled in nursery school",
                                 enrollment == "B14007I_017E" ~ "enrolled in college/universities",
                                 enrollment == "B14007I_018E" ~ "enrolled in graduate or professional school",
                                 enrollment == "B14007I_019E" ~ "not enrolled in school",
                                 enrollment == "B14007I_020E" ~ "enrolled in k-12", 
                                 TRUE ~ "total")) %>%
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))

# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area
temp_edu_enr8 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr18),

```{r temp-edu-enr19, fig.cap= "ACS 1-Year Level Data: Latinx Education Enrollment Levels in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)"}
temp_edu_enr8 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr19),

```{r temp-edu-enr20, fig.cap= "ACS 1-Year Level Data: Latinx Education Enrollment Levels in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)"}
temp_edu_enr8 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr20),

```{r temp-edu-enr21, fig.cap= "ACS 1-Year Level Data: Latinx Education Enrollment Levels in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)"}
temp_edu_enr8 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr21),

```{r temp-edu-enr22, fig.cap= "ACS 1-Year Level Data: Latinx Education Enrollment Levels in Providence-Warwick, RI-MA Metro Area (2012-2020)"}
temp_edu_enr8 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr22),

### ACS1 - Latinx Education Enrollment Levels in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r temp-edu-enr23, fig.cap= "ACS 1-Year Level Data: Latinx Education Enrollment Levels in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)"}
## acs1 - education enrollment, county level 
temp_edu_enr7 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007I_\\d+E")) %>% 
  mutate(B14007I_020E = B14007I_004E + B14007I_005E + B14007I_006E
         + B14007I_007E + B14007I_008E + B14007I_009E + B14007I_010E
         + B14007I_011E + B14007I_012E + B14007I_013E + B14007I_014E
         + B14007I_015E + B14007I_016E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'enrollment',         
    values_to = 'values') %>%
  filter(enrollment %in% c("B14007I_003E", "B14007I_020E", "B14007I_017E", "B14007I_018E")) %>%
  mutate(
    enrollment_level = case_when(enrollment == "B14007I_002E" ~ "enrolled in school",
                                 enrollment == "B14007I_003E" ~ "enrolled in nursery school",
                                 enrollment == "B14007I_017E" ~ "enrolled in college/universities",
                                 enrollment == "B14007I_018E" ~ "enrolled in graduate or professional school",
                                 enrollment == "B14007I_019E" ~ "not enrolled in school",
                                 enrollment == "B14007I_020E" ~ "enrolled in k-12", 
                                 TRUE ~ "total")) %>%
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))

## counties
temp_edu_enr7 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas",
                                        "Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr23),

### ACS1 - Latinx Education Enrollment Levels in Los Angeles County, CA (2012-2020)
```{r temp-edu-enr24, fig.cap= "ACS 1-Year Level Data: Latinx Education Enrollment Levels in Los Angeles County, CA (2012-2020)"}
## acs1 - education enrollment, county level 
temp_edu_enr7 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007I_\\d+E")) %>% 
  mutate(B14007I_020E = B14007I_004E + B14007I_005E + B14007I_006E
         + B14007I_007E + B14007I_008E + B14007I_009E + B14007I_010E
         + B14007I_011E + B14007I_012E + B14007I_013E + B14007I_014E
         + B14007I_015E + B14007I_016E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'enrollment',         
    values_to = 'values') %>%
  filter(enrollment %in% c("B14007I_003E", "B14007I_020E", "B14007I_017E", "B14007I_018E")) %>%
  mutate(
    enrollment_level = case_when(enrollment == "B14007I_002E" ~ "enrolled in school",
                                 enrollment == "B14007I_003E" ~ "enrolled in nursery school",
                                 enrollment == "B14007I_017E" ~ "enrolled in college/universities",
                                 enrollment == "B14007I_018E" ~ "enrolled in graduate or professional school",
                                 enrollment == "B14007I_019E" ~ "not enrolled in school",
                                 enrollment == "B14007I_020E" ~ "enrolled in k-12", 
                                 TRUE ~ "total")) %>%
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))

## graph, los angeles county, california
temp_edu_enr7 %>% filter(NAME == "Los Angeles County, California") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() + 
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr24),

### ACS5 - Latinx Education Enrollment Levels in California, Texas, Florida, and New York States (2012-2020)
```{r temp-edu-enr25, fig.cap= "ACS 5-Year Level Data: Latinx Education Enrollment Levels in California, Texas, Florida, and New York States (2012-2020)"}
## acs5 - education enrollment, state level
temp_edu_enr12 <- acs5_state_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007I_\\d+E")) %>% 
  mutate(B14007I_020E = B14007I_004E + B14007I_005E + B14007I_006E
         + B14007I_007E + B14007I_008E + B14007I_009E + B14007I_010E
         + B14007I_011E + B14007I_012E + B14007I_013E + B14007I_014E
         + B14007I_015E + B14007I_016E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'enrollment',         
    values_to = 'values') %>%
  filter(enrollment %in% c("B14007I_003E", "B14007I_020E", "B14007I_017E", "B14007I_018E")) %>%
  mutate(
    enrollment_level = case_when(enrollment == "B14007I_002E" ~ "enrolled in school",
                                 enrollment == "B14007I_003E" ~ "enrolled in nursery school",
                                 enrollment == "B14007I_017E" ~ "enrolled in college/universities",
                                 enrollment == "B14007I_018E" ~ "enrolled in graduate or professional school",
                                 enrollment == "B14007I_019E" ~ "not enrolled in school",
                                 enrollment == "B14007I_020E" ~ "enrolled in k-12", 
                                 TRUE ~ "total")) %>%
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_enr12 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr25),

### ACS5 - Latinx Education Enrollment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
```{r temp-edu-enr26, fig.cap= "ACS 5-Year Level Data: Latinx Education Enrollment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area (2012-2020)"}
## acs5 - education enrollment, metro level 
temp_edu_enr11 <- acs5_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007I_\\d+E")) %>% 
  mutate(B14007I_020E = B14007I_004E + B14007I_005E + B14007I_006E
         + B14007I_007E + B14007I_008E + B14007I_009E + B14007I_010E
         + B14007I_011E + B14007I_012E + B14007I_013E + B14007I_014E
         + B14007I_015E + B14007I_016E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'enrollment',         
    values_to = 'values') %>%
  filter(enrollment %in% c("B14007I_003E", "B14007I_020E", "B14007I_017E", "B14007I_018E")) %>%
  mutate(
    enrollment_level = case_when(enrollment == "B14007I_002E" ~ "enrolled in school",
                                 enrollment == "B14007I_003E" ~ "enrolled in nursery school",
                                 enrollment == "B14007I_017E" ~ "enrolled in college/universities",
                                 enrollment == "B14007I_018E" ~ "enrolled in graduate or professional school",
                                 enrollment == "B14007I_019E" ~ "not enrolled in school",
                                 enrollment == "B14007I_020E" ~ "enrolled in k-12", 
                                 TRUE ~ "total")) %>%
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area;
# Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; 
# Providence-Warwick, RI-MA Metro Area
temp_edu_enr11 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr26),

```{r temp-edu-enr27, fig.cap= "ACS 5-Year Level Data: Latinx Education Enrollment Levels in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)"}
temp_edu_enr11 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr27),

```{r temp-edu-enr28, fig.cap= "ACS 5-Year Level Data: Latinx Education Enrollment Levels in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)"}
temp_edu_enr11 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr28),

```{r temp-edu-enr29, fig.cap= "ACS 5-Year Level Data: Latinx Education Enrollment Levels in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)"}
temp_edu_enr11 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr29),

```{r temp-edu-enr30, fig.cap= "ACS 5-Year Level Data: Latinx Education Enrollment Levels in Providence-Warwick, RI-MA Metro Area (2012-2020)"}
temp_edu_enr11 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr30),

### ACS5 - Latinx Education Enrollment Levels in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r temp-edu-enr31, fig.cap= "ACS 5-Year Level Data: Latinx Education Enrollment Levels in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)"}
## acs5 - education enrollment, county level 
temp_edu_enr10 <- acs5_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007I_\\d+E")) %>% 
  mutate(B14007I_020E = B14007I_004E + B14007I_005E + B14007I_006E
         + B14007I_007E + B14007I_008E + B14007I_009E + B14007I_010E
         + B14007I_011E + B14007I_012E + B14007I_013E + B14007I_014E
         + B14007I_015E + B14007I_016E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'enrollment',         
    values_to = 'values') %>%
  filter(enrollment %in% c("B14007I_003E", "B14007I_020E", "B14007I_017E", "B14007I_018E")) %>%
  mutate(
    enrollment_level = case_when(enrollment == "B14007I_002E" ~ "enrolled in school",
                                 enrollment == "B14007I_003E" ~ "enrolled in nursery school",
                                 enrollment == "B14007I_017E" ~ "enrolled in college/universities",
                                 enrollment == "B14007I_018E" ~ "enrolled in graduate or professional school",
                                 enrollment == "B14007I_019E" ~ "not enrolled in school",
                                 enrollment == "B14007I_020E" ~ "enrolled in k-12", 
                                 TRUE ~ "total")) %>%
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## counties
temp_edu_enr10 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas", "Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr31),

### ACS5 - Latinx Education Enrollment Levels in Los Angeles County (2012-2020)
```{r temp-edu-enr32, fig.cap= "ACS 5-Year Level Data: Latinx Education Enrollment Levels in Los Angeles County, CA (2012-2020)"}
## acs5 - education enrollment, county level 
temp_edu_enr10 <- acs5_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007I_\\d+E")) %>% 
  mutate(B14007I_020E = B14007I_004E + B14007I_005E + B14007I_006E
         + B14007I_007E + B14007I_008E + B14007I_009E + B14007I_010E
         + B14007I_011E + B14007I_012E + B14007I_013E + B14007I_014E
         + B14007I_015E + B14007I_016E) %>%
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'enrollment',         
    values_to = 'values') %>%
  filter(enrollment %in% c("B14007I_003E", "B14007I_020E", "B14007I_017E", "B14007I_018E")) %>%
  mutate(
    enrollment_level = case_when(enrollment == "B14007I_002E" ~ "enrolled in school",
                                 enrollment == "B14007I_003E" ~ "enrolled in nursery school",
                                 enrollment == "B14007I_017E" ~ "enrolled in college/universities",
                                 enrollment == "B14007I_018E" ~ "enrolled in graduate or professional school",
                                 enrollment == "B14007I_019E" ~ "not enrolled in school",
                                 enrollment == "B14007I_020E" ~ "enrolled in k-12", 
                                 TRUE ~ "total")) %>%
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))

## graph, los angeles county, california
temp_edu_enr10 %>% filter(NAME == "Los Angeles County, California") %>%
  ggplot(aes(x = YEAR, y = pct, color = enrollment_level)) + geom_line() + 
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr32),


### TOTAL EDUCATION ATTAINMENT RATES OF STUDENTS WHO ATTAINED LESS THAN A HIGH SCHOOL DIPLOMA, HIGH SCHOOL DIPLOMA, SOME COLLEGE OR ASSOCIATE'S DEGREE, AND BACHELOR'S DEGREE OR HIGHER BY RACE/ETHNICITY (2012-2020)

### ACS1 - Education Attainment Levels in California, Texas, Florida, and New York States (2012-2020)
```{r temp-edu-attain33, fig.cap= "ACS 1-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in California, Texas, Florida, and New York States (2012-2020)"}
## acs1 - education attainment, state level (total educational attainment rates (aggregated from: total less than a high school diploma, total high school graduate, total some college or associate’s degree, total bachelor’s degree or higher))
temp_edu_attain_race15 <- acs1_state_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002\\w_001E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "C15002A_001E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "C15002B_001E" = "Black", 
      "C15002C_001E" = "American Indian and Alaska Native",
      "C15002D_001E" = "Asian",
      "C15002E_001E" = "Native Hawaiian and Other Pacific Islander",
      "C15002F_001E" = "Other",
      "C15002G_001E" = "Two or More Races",
      "C15002H_001E" = "white",
      "C15002I_001E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_attain_race15 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain33),

### ACS1 - Education Attainment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
```{r temp-edu-attain34, fig.cap= "ACS 1-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Los Angeles-Long Beach-Anaheim, CA Metro Area (2012-2020)"}
## acs1 - education attainment, metro level (total educational attainment rates (aggregated from: total less than a high school diploma, total high school graduate, total some college or associate’s degree, total bachelor’s degree or higher))
temp_edu_attain_race14 <- acs1_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002\\w_001E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "C15002A_001E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "C15002B_001E" = "Black", 
      "C15002C_001E" = "American Indian and Alaska Native",
      "C15002D_001E" = "Asian",
      "C15002E_001E" = "Native Hawaiian and Other Pacific Islander",
      "C15002F_001E" = "Other",
      "C15002G_001E" = "Two or More Races",
      "C15002H_001E" = "white",
      "C15002I_001E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; Providence-Warwick, RI-MA Metro Area
temp_edu_attain_race14 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain34),


```{r temp-edu-attain35, fig.cap= "ACS 1-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)"}
temp_edu_attain_race14 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain35),

```{r temp-edu-attain36, fig.cap= "ACS 1-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)"}
temp_edu_attain_race14 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain36),

```{r temp-edu-attain37, fig.cap= "ACS 1-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)"}
temp_edu_attain_race14 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain37),

```{r temp-edu-attain38, fig.cap= "ACS 1-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Providence-Warwick, RI-MA Metro Area (2012-2020)"}
temp_edu_attain_race14 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain38),

### ACS1 - Education Attainment Levels in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r temp-edu-attain39, fig.cap= "ACS 1-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)"}
## acs1 - education attainment, county level (total educational attainment rates (aggregated from: total less than a high school diploma, 
## total high school graduate, total some college or associate’s degree, total bachelor’s degree or higher))
temp_edu_attain_race13 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002\\w_001E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "C15002A_001E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
   race,  "C15002B_001E" = "Black", 
   "C15002C_001E" = "American Indian and Alaska Native",
   "C15002D_001E" = "Asian",
   "C15002E_001E" = "Native Hawaiian and Other Pacific Islander",
   "C15002F_001E" = "Other",
   "C15002G_001E" = "Two or More Races",
   "C15002H_001E" = "white",
   "C15002I_001E" = "Latino"
  )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## graphs, counties
temp_edu_attain_race13 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas","Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain39),

### ACS1 - Education Attainment Levels in Los Angeles County (2012-2020)
```{r temp-edu-attain40, fig.cap= "ACS 1-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Los Angeles County, CA (2012-2020)"}
## acs1 - education attainment, county level (total educational attainment rates (aggregated from: total less than a high school diploma, 
## total high school graduate, total some college or associate’s degree, total bachelor’s degree or higher))
temp_edu_attain_race13 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002\\w_001E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "C15002A_001E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
   race,  "C15002B_001E" = "Black", 
   "C15002C_001E" = "American Indian and Alaska Native",
   "C15002D_001E" = "Asian",
   "C15002E_001E" = "Native Hawaiian and Other Pacific Islander",
   "C15002F_001E" = "Other",
   "C15002G_001E" = "Two or More Races",
   "C15002H_001E" = "white",
   "C15002I_001E" = "Latino"
  )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## graphs, counties
temp_edu_attain_race13 %>% filter(NAME %in% c("Los Angeles County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain40),

### ACS5 - Education Attainment Levels in California, Texas, Florida, and New York States (2012-2020)
```{r temp-edu-attain41, fig.cap= "ACS 5-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in California, Texas, Florida, and New York States (2012-2020)"}
## acs5 - education attainment, state level, (total educational attainment rates (aggregated from: total less than a high school diploma, total high school graduate, total some college or associate’s degree, total bachelor’s degree or higher))
temp_edu_attain_race18 <- acs5_state_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002\\w_001E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "C15002A_001E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "C15002B_001E" = "Black", 
      "C15002C_001E" = "American Indian and Alaska Native",
      "C15002D_001E" = "Asian",
      "C15002E_001E" = "Native Hawaiian and Other Pacific Islander",
      "C15002F_001E" = "Other",
      "C15002G_001E" = "Two or More Races",
      "C15002H_001E" = "white",
      "C15002I_001E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_attain_race18 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain41),

### ACS5 - Education Attainment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
```{r temp-edu-attain42, fig.cap= "ACS 5-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Los Angeles-Long Beach-Anaheim, CA Metro Area"}
## acs5 - education attainment, metro level (total educational attainment rates (aggregated from: total less than a high school diploma, total high school graduate, total some college or associate’s degree, total bachelor’s degree or higher))
temp_edu_attain_race17 <- acs5_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002\\w_001E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "C15002A_001E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "C15002B_001E" = "Black", 
      "C15002C_001E" = "American Indian and Alaska Native",
      "C15002D_001E" = "Asian",
      "C15002E_001E" = "Native Hawaiian and Other Pacific Islander",
      "C15002F_001E" = "Other",
      "C15002G_001E" = "Two or More Races",
      "C15002H_001E" = "white",
      "C15002I_001E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area;
# Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; 
# Providence-Warwick, RI-MA Metro Area
temp_edu_attain_race17 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain42),

```{r temp-edu-attain43, fig.cap= "ACS 5-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)"}
temp_edu_attain_race17 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain43),

```{r temp-edu-attain44, fig.cap= "ACS 5-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)"}
temp_edu_attain_race17 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain44),

```{r temp-edu-attain45, fig.cap= "ACS 5-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)"}
temp_edu_attain_race17 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain45),

```{r temp-edu-attain46, fig.cap= "ACS 5-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Providence-Warwick, RI-MA Metro Area (2012-2020)"}
temp_edu_attain_race17 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent of Latinx') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain46),

### ACS5 - Education Attainment Levels in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r temp-edu-attain47, fig.cap= "ACS 5-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)"}
## acs5 - education attainment, county level (total educational attainment rates (aggregated from: total less than a high school diploma, total high school graduate, total some college or associate’s degree, total bachelor’s degree or higher))
temp_edu_attain_race16 <- acs5_county_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002\\w_001E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "C15002A_001E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "C15002B_001E" = "Black", 
      "C15002C_001E" = "American Indian and Alaska Native",
      "C15002D_001E" = "Asian",
      "C15002E_001E" = "Native Hawaiian and Other Pacific Islander",
      "C15002F_001E" = "Other",
      "C15002G_001E" = "Two or More Races",
      "C15002H_001E" = "white",
      "C15002I_001E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## graphs, counties
temp_edu_attain_race16 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas",
                                              "Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain47),

### ACS5 - Education Attainment Levels in Los Angeles County, CA (2012-2020)
```{r temp-edu-attain48, fig.cap= "ACS 5-Year Level Data: Total Education Attainment Levels By Race/Ethnicity in Los Angeles County, CA (2012-2020)"}
## acs5 - education attainment, county level (total educational attainment rates (aggregated from: total less than a high school diploma, total high school graduate, total some college or associate’s degree, total bachelor’s degree or higher))
temp_edu_attain_race16 <- acs5_county_data %>% 
  select(GEOID, NAME, YEAR, matches("C15002\\w_001E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "C15002A_001E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "C15002B_001E" = "Black", 
      "C15002C_001E" = "American Indian and Alaska Native",
      "C15002D_001E" = "Asian",
      "C15002E_001E" = "Native Hawaiian and Other Pacific Islander",
      "C15002F_001E" = "Other",
      "C15002G_001E" = "Two or More Races",
      "C15002H_001E" = "white",
      "C15002I_001E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## graphs, counties
temp_edu_attain_race16 %>% filter(NAME %in% c("Los Angeles County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  ggtitle('Education Attainment Levels in Counties By Race (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-attain48),

### TOTAL EDUCATIONAL ENROLLMENT RATES OF STUDENTS ENROLLED IN  SCHOOL BY RACE/ETHNICITY (2012-2020) **enrolled in school means enrolled in nursery school, k-12, college/universities, and graduate or professional school***

### ACS1 - Latinx Education Enrollment Levels in California, Texas, Florida, and New York States (2012-2020)
```{r temp-edu-enr49, fig.cap= "ACS 1-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in Los Angeles County, CA (2012-2020)"}
## acs1 - education enrollment, state level (educational enrollment rates of students enrolled in school (enrolled in school means enrolled in nursery school, k-12, college/universities, and graduate or professional school))
temp_edu_enr_race21 <- acs1_state_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_002E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_002E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_002E" = "Black", 
      "B14007C_002E" = "American Indian and Alaska Native",
      "B14007D_002E" = "Asian",
      "B14007E_002E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_002E" = "Other",
      "B14007G_002E" = "Two or More Races",
      "B14007H_002E" = "white",
      "B14007I_002E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_enr_race21 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr49),

### ACS1 - Latinx Education Enrollment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
```{r temp-edu-enr50, fig.cap= "ACS 1-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in Los Angeles-Long Beach-Anaheim, CA Metro Area (2012-2020)"}
## acs1 - education enrollment, metro level (educational enrollment rates of students enrolled in school (enrolled in school means enrolled in nursery school, k-12, college/universities, and graduate or professional school))
temp_edu_enr_race20 <- acs1_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_002E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_002E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_002E" = "Black", 
      "B14007C_002E" = "American Indian and Alaska Native",
      "B14007D_002E" = "Asian",
      "B14007E_002E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_002E" = "Other",
      "B14007G_002E" = "Two or More Races",
      "B14007H_002E" = "white",
      "B14007I_002E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area;
# Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; 
# Providence-Warwick, RI-MA Metro Area
temp_edu_enr_race20 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr50),


```{r temp-edu-enr51, fig.cap= "ACS 1-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)"}
temp_edu_enr_race20 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr51),

```{r temp-edu-enr52, fig.cap= "ACS 1-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)"}
temp_edu_enr_race20 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr52),

```{r temp-edu-enr53, fig.cap= "ACS 1-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)"}
temp_edu_enr_race20 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr53),

```{r temp-edu-enr54, fig.cap= "ACS 1-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in Providence-Warwick, RI-MA Metro Area (2012-2020)"}
temp_edu_enr_race20 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr54),

### ACS1 - Latinx Education Enrollment Levels in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r temp-edu-enr55, fig.cap= "ACS 1-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)"}
## acs1 - education enrollment, county level, (educational enrollment rates of students enrolled in school (enrolled in school means enrolled in nursery school, k-12, college/universities, and graduate or professional school))
temp_edu_enr_race19 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_002E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_002E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_002E" = "Black", 
      "B14007C_002E" = "American Indian and Alaska Native",
      "B14007D_002E" = "Asian",
      "B14007E_002E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_002E" = "Other",
      "B14007G_002E" = "Two or More Races",
      "B14007H_002E" = "white",
      "B14007I_002E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## counties
temp_edu_enr_race19 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas",
                                        "Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr55),

### ACS1 - Latinx Education Enrollment Levels in Los Angeles County (2012-2020)
```{r temp-edu-enr56, fig.cap= "ACS 1-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in Los Angeles County, CA (2012-2020)"}
## acs1 - education enrollment, county level, (educational enrollment rates of students enrolled in school (enrolled in school means enrolled in nursery school, k-12, college/universities, and graduate or professional school))
temp_edu_enr_race19 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_002E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_002E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_002E" = "Black", 
      "B14007C_002E" = "American Indian and Alaska Native",
      "B14007D_002E" = "Asian",
      "B14007E_002E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_002E" = "Other",
      "B14007G_002E" = "Two or More Races",
      "B14007H_002E" = "white",
      "B14007I_002E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## la county
temp_edu_enr_race19 %>% filter(NAME %in% c("Los Angeles County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr56),

### ACS5 - Latinx Education Enrollment Levels in California, Texas, Florida, and New York States (2012-2020)
```{r temp-edu-enr57, fig.cap= "ACS 5-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in California, Texas, Florida, and New York States (2012-2020)"}
## acs5 - education enrollment, state level (educational enrollment rates of students enrolled in school (enrolled in school means enrolled in nursery school, k-12, college/universities, and graduate or professional school))
temp_edu_enr_race24 <- acs5_state_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_002E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_002E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_002E" = "Black", 
      "B14007C_002E" = "American Indian and Alaska Native",
      "B14007D_002E" = "Asian",
      "B14007E_002E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_002E" = "Other",
      "B14007G_002E" = "Two or More Races",
      "B14007H_002E" = "white",
      "B14007I_002E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_enr_race24 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr57),

### ACS5 - Latinx Education Enrollment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
```{r temp-edu-enr58, fig.cap= "ACS 5-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in Los Angeles-Long Beach-Anaheim, CA Metro Area"}
## acs5 - education enrollment, metro level (educational enrollment rates of students enrolled in school (enrolled in school means enrolled in nursery school, k-12, college/universities, and graduate or professional school))
temp_edu_enr_race23 <- acs5_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_002E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_002E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_002E" = "Black", 
      "B14007C_002E" = "American Indian and Alaska Native",
      "B14007D_002E" = "Asian",
      "B14007E_002E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_002E" = "Other",
      "B14007G_002E" = "Two or More Races",
      "B14007H_002E" = "white",
      "B14007I_002E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area
temp_edu_enr_race23 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr58),

```{r temp-edu-enr59, fig.cap= "ACS 5-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)"}
temp_edu_enr_race23 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr59),

```{r temp-edu-enr60, fig.cap= "ACS 5-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)"}
temp_edu_enr_race23 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr60),

```{r emp-edu-enr61, fig.cap= "ACS 5-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)"}
temp_edu_enr_race23 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr61),

```{r emp-edu-enr62, fig.cap= "ACS 5-Year Level Data: Total Education Enrollment Rates of Students Enrolled in School By Race/Ethnicity in Providence-Warwick, RI-MA Metro Area (2012-2020)"}
temp_edu_enr_race23 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr62),

### ACS5 - Latinx Education Enrollment Levels in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r emp-edu-enr63, fig.cap= "ACS 5-Year Level Data: Total Education Enrollment Rates of Students Enrolled in Los Angeles County, CA, Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)"}
## acs5 - education enrollment, county level (educational enrollment rates of students enrolled in school (enrolled in school means enrolled in nursery school, k-12, college/universities, and graduate or professional school))
temp_edu_enr_race22 <- acs5_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_002E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_002E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_002E" = "Black", 
      "B14007C_002E" = "American Indian and Alaska Native",
      "B14007D_002E" = "Asian",
      "B14007E_002E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_002E" = "Other",
      "B14007G_002E" = "Two or More Races",
      "B14007H_002E" = "white",
      "B14007I_002E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## counties
temp_edu_enr_race22 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas", "Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr63),

### ACS5 - Latinx Education Enrollment Levels in Los Angeles County, CA (2012-2020)
```{r emp-edu-enr64, fig.cap= "ACS 5-Year Level Data: Total Education Enrollment Rates of Students Enrolled in Los Angeles County, CA (2012-2020)"}
## acs5 - education enrollment, county level (educational enrollment rates of students enrolled in school (enrolled in school means enrolled in nursery school, k-12, college/universities, and graduate or professional school))
temp_edu_enr_race22 <- acs5_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_002E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_002E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_002E" = "Black", 
      "B14007C_002E" = "American Indian and Alaska Native",
      "B14007D_002E" = "Asian",
      "B14007E_002E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_002E" = "Other",
      "B14007G_002E" = "Two or More Races",
      "B14007H_002E" = "white",
      "B14007I_002E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## la county
temp_edu_enr_race22 %>% filter(NAME %in% c("Los Angeles County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr64),

### ENROLLMENT RATES IN NURSERY SCHOOL BY RACE (2012-2020)

### ACS1 - Education Enrollment Levels in California, Texas, Florida, and New York States (2012-2020)
```{r}
## acs1 - education enrollment, state level, (educational enrollment rates of students enrolled in nursery school)
temp_edu_enr_race26 <- acs1_state_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_003E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_003E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_003E" = "Black", 
      "B14007C_003E" = "American Indian and Alaska Native",
      "B14007D_003E" = "Asian",
      "B14007E_003E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_003E" = "Other",
      "B14007G_003E" = "Two or More Races",
      "B14007H_003E" = "white",
      "B14007I_003E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_enr_race26 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  ggtitle('Education Enrollment Levels By Race in States Most Populated By Latinx (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr65),

### ACS1 - Education Enrollment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
```{r}
## acs1 - education enrollment, metro level, (educational enrollment rates of students enrolled in nursery school)
temp_edu_enr_race27 <- acs1_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_003E")) %>% 
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_003E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_003E" = "Black", 
      "B14007C_003E" = "American Indian and Alaska Native",
      "B14007D_003E" = "Asian",
      "B14007E_003E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_003E" = "Other",
      "B14007G_003E" = "Two or More Races",
      "B14007H_003E" = "white",
      "B14007I_003E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area;
# Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; 
# Providence-Warwick, RI-MA Metro Area
temp_edu_enr_race27 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Los Angeles-Long Beach-Anaheim, CA Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr66),

```{r}
temp_edu_enr_race27 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr67),

```{r}
temp_edu_enr_race27 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr68),

```{r}
temp_edu_enr_race27 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr69),

```{r}
temp_edu_enr_race27 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Providence-Warwick, RI-MA Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr70),

### ACS1 - Education Enrollment Levels in Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r}
## acs1 - education enrollment, county level, (educational enrollment rates of students enrolled in nursery school)
temp_edu_enr_race25 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_003E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_003E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_003E" = "Black", 
      "B14007C_003E" = "American Indian and Alaska Native",
      "B14007D_003E" = "Asian",
      "B14007E_003E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_003E" = "Other",
      "B14007G_003E" = "Two or More Races",
      "B14007H_003E" = "white",
      "B14007I_003E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## graphs, counties
## counties
temp_edu_enr_race25 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas", "Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  ggtitle('Education Enrollment Levels in Counties By Race (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr71),

### ACS1 - Education Enrollment Levels in Los Angeles County (2012-2020)
```{r}
## acs1 - education enrollment, county level, (educational enrollment rates of students enrolled in nursery school)
temp_edu_enr_race25 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_003E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_003E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_003E" = "Black", 
      "B14007C_003E" = "American Indian and Alaska Native",
      "B14007D_003E" = "Asian",
      "B14007E_003E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_003E" = "Other",
      "B14007G_003E" = "Two or More Races",
      "B14007H_003E" = "white",
      "B14007I_003E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## graphs, counties
## counties
temp_edu_enr_race25 %>% filter(NAME %in% c("Los Angeles County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  ggtitle('Education Enrollment Levels in Counties By Race (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr72),

### ENROLLMENT RATES IN COLLEGE/UNIVERSITIES BY RACE (2012-2020)

### ACS1 - Education Enrollment Levels in California, Texas, Florida, and New York States (2012-2020)
```{r}
## acs1 - education enrollment, state level, (educational enrollment rates of students enrolled in college/universities)
temp_edu_enr_race30 <- acs1_state_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_017E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_017E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_017E" = "Black", 
      "B14007C_017E" = "American Indian and Alaska Native",
      "B14007D_017E" = "Asian",
      "B14007E_017E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_017E" = "Other",
      "B14007G_017E" = "Two or More Races",
      "B14007H_017E" = "white",
      "B14007I_017E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_enr_race30 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  ggtitle('Education Enrollment Levels By Race in States Most Populated By Latinx (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr73),

### ACS1 - Education Enrollment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
```{r}
## acs1 - education enrollment, metro level, (educational enrollment rates of students enrolled in college/universities)
temp_edu_enr_race29 <- acs1_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_017E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_017E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_017E" = "Black", 
      "B14007C_017E" = "American Indian and Alaska Native",
      "B14007D_017E" = "Asian",
      "B14007E_017E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_017E" = "Other",
      "B14007G_017E" = "Two or More Races",
      "B14007H_017E" = "white",
      "B14007I_017E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; Providence-Warwick, RI-MA Metro Area
temp_edu_enr_race29 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Los Angeles-Long Beach-Anaheim, CA Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr74),


```{r}
temp_edu_enr_race29 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr75),

```{r}
temp_edu_enr_race29 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr76),

```{r}
temp_edu_enr_race29 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr77),

```{r}
temp_edu_enr_race29 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Providence-Warwick, RI-MA Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr78),

### ACS1 - Education Enrollment Levels in Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r}
## acs1 - education enrollment, county level, (educational enrollment rates of students enrolled in college/universities)
temp_edu_enr_race28 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_017E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_017E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_017E" = "Black", 
      "B14007C_017E" = "American Indian and Alaska Native",
      "B14007D_017E" = "Asian",
      "B14007E_017E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_017E" = "Other",
      "B14007G_017E" = "Two or More Races",
      "B14007H_017E" = "white",
      "B14007I_017E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## graphs, counties
## counties
temp_edu_enr_race28 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas", "Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  ggtitle('Education Enrollment Levels in Counties By Race (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr79),

### ACS1 - Education Enrollment Levels in Los Angeles County (2012-2020)
```{r}
## acs1 - education enrollment, county level, (educational enrollment rates of students enrolled in college/universities)
temp_edu_enr_race28 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_017E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_017E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_017E" = "Black", 
      "B14007C_017E" = "American Indian and Alaska Native",
      "B14007D_017E" = "Asian",
      "B14007E_017E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_017E" = "Other",
      "B14007G_017E" = "Two or More Races",
      "B14007H_017E" = "white",
      "B14007I_017E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## counties
temp_edu_enr_race28 %>% filter(NAME %in% c("Los Angeles County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  ggtitle('Education Enrollment Levels in Counties By Race (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr80),

### ENROLLMENT RATES IN GRADUATE OR PROFESSIONAL SCHOOL BY RACE (2012-2020)

### ACS1 - Education Enrollment Levels in California, Texas, Florida, and New York States (2012-2020)
```{r}
## acs1 - education enrollment, state level, (educational enrollment rates of students enrolled in graduate or professional school)
temp_edu_enr_race33 <- acs1_state_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_018E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_018E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_018E" = "Black", 
      "B14007C_018E" = "American Indian and Alaska Native",
      "B14007D_018E" = "Asian",
      "B14007E_018E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_018E" = "Other",
      "B14007G_018E" = "Two or More Races",
      "B14007H_018E" = "white",
      "B14007I_018E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, states: CA, TX, FL, NY
temp_edu_enr_race33 %>% filter(NAME %in% c("California", "Texas", "Florida", "New York")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  ggtitle('Enrollment Levels in Graduate School By Race in States Most Populated By Latinx (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr81),

### ACS1 - Education Enrollment Levels in Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area; Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; and Providence-Warwick, RI-MA Metro Area (2012-2020)
```{r}
## acs1 - education enrollment, metro level, (educational enrollment rates of students enrolled in graduate or professional school)
temp_edu_enr_race32 <- acs1_metro_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_018E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_018E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_018E" = "Black", 
      "B14007C_018E" = "American Indian and Alaska Native",
      "B14007D_018E" = "Asian",
      "B14007E_018E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_018E" = "Other",
      "B14007G_018E" = "Two or More Races",
      "B14007H_018E" = "white",
      "B14007I_018E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
# graph, metro: Los Angeles-Long Beach-Anaheim, CA Metro Area; New York-Newark-Jersey City, NY-NJ-PA Metro Area;
# Miami-Fort Lauderdale-West Palm Beach, FL Metro Area; Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area; 
# Providence-Warwick, RI-MA Metro Area
temp_edu_enr_race32 %>% filter(NAME == "Los Angeles-Long Beach-Anaheim, CA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Los Angeles-Long Beach-Anaheim, CA Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr82),

```{r}
temp_edu_enr_race32 %>% filter(NAME == "New York-Newark-Jersey City, NY-NJ-PA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in New York-Newark-Jersey City, NY-NJ-PA Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr83),

```{r}
temp_edu_enr_race32 %>% filter(NAME == "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Miami-Fort Lauderdale-West Palm Beach, FL Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr84),

```{r}
temp_edu_enr_race32 %>% filter(NAME == "Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Washington-Arlington-Alexandria, DC-VA-MD-WV Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr85),

```{r}
temp_edu_enr_race32 %>% filter(NAME == "Providence-Warwick, RI-MA Metro Area") %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() +
  ggtitle('Education Enrollment Levels By Race in Providence-Warwick, RI-MA Metro Area (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr86),

### ACS1 - Education Enrollment Levels in Cook County, IL, Maricopa County, AZ, Orange County, CA, Bexar County, TX, Riverside County, CA, San Bernardino County, CA, and San Diego County, CA (2012-2020)
```{r}
## acs1 - education enrollment, county level, (educational enrollment rates of students enrolled in graduate or professional school)
temp_edu_enr_race31 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_018E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_018E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_018E" = "Black", 
      "B14007C_018E" = "American Indian and Alaska Native",
      "B14007D_018E" = "Asian",
      "B14007E_018E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_018E" = "Other",
      "B14007G_018E" = "Two or More Races",
      "B14007H_018E" = "white",
      "B14007I_018E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## counties
temp_edu_enr_race31 %>% filter(NAME %in% c("Los Angeles County, California", "Cook County, Illinois","Maricopa County, Arizona", "Orange County, California", "Bexar County, Texas",
                                           "Riverside County, California", "San Bernardino County, California", "San Diego County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  ggtitle('Education Enrollment Levels in Counties By Race (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr87),

### ACS1 - Education Enrollment Levels in Los Angeles County (2012-2020)
```{r}
## acs1 - education enrollment, county level, (educational enrollment rates of students enrolled in graduate or professional school)
temp_edu_enr_race31 <- acs1_county_data %>% 
  select(GEOID, NAME, YEAR, matches("B14007\\w_018E")) %>% ## this number can change to any enrollment level preferred
  pivot_longer(
    cols = -c(GEOID, NAME, YEAR),           
    names_to = 'race',         
    values_to = 'values') %>%
  filter(race != "B14007A_018E") %>%
  mutate(
    values = if_else(is.na(values), 0, values),
    race = recode_factor(
      race,  "B14007B_018E" = "Black", 
      "B14007C_018E" = "American Indian and Alaska Native",
      "B14007D_018E" = "Asian",
      "B14007E_018E" = "Native Hawaiian and Other Pacific Islander",
      "B14007F_018E" = "Other",
      "B14007G_018E" = "Two or More Races",
      "B14007H_018E" = "white",
      "B14007I_018E" = "Latino"
    )) %>% 
  group_by(GEOID, NAME, YEAR) %>% 
  mutate(pct = values/sum(values))
## la county
temp_edu_enr_race31 %>% filter(NAME %in% c("Los Angeles County, California")) %>%
  ggplot(aes(x = YEAR, y = pct, color = race)) + geom_line() + facet_wrap(~ NAME) +
  ggtitle('Education Enrollment Levels in Counties By Race (2012-2020)') + 
  xlab('Year') + ylab('Percent') +
  theme(plot.title = element_text(hjust = 0.5))
```
In Figure \@ref(fig:temp-edu-enr88),

